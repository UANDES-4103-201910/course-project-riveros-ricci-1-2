<div class="row no-gutters border rounded overflow-hidden flex-md-row mb-2 shadow-sm h-md-250 position-relative">
  <div class="col p-4 d-flex flex-column position-static card">
    <div class="d-inline-block mb-2 text-primary">
      <% if post.user.profile.avatar.attached? %>
        <%= image_tag url_for(post.user.profile.avatar), class: 'rounded float-left img-fluid img-thumbnail mr-1', width: 20, height: 20, alt: 'avatar' %>
      <% else %>
        <%= image_tag 'profile-placeholder.gif', class: 'rounded float-left img-fluid img-thumbnail mr-1', width: 20, height: 20, alt: 'avatar' %>
      <% end %>
      <%= link_to post.user.username, user_path(post.user) %>
      <div class="float-right dropdown">
        <a  href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <%= octicon "kebab-horizontal" %>
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <%# TODO: put images (flag) and corresponding text  %>
          <a class="dropdown-item" href="#">Flag</a>
          <a class="dropdown-item" href="#">Another action</a>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </div>
    </div>
    <div style="transform: rotate(0);">
      <%= link_to '', post_path(post), class: 'stretched-link' %>
      <h3 class="mb-0"><%= truncate post.description, length: 60 %></h3>
      <div class="mb-1 text-muted">
        <% if post.created_at.year == DateTime.now.year %>
          <%= post.created_at.strftime("%b %d") %>
        <% else %>
          <%= post.created_at.strftime("%m/%d/%y") %>
        <% end %>
      </div>
      <p class="card-text mb-auto"> <%= truncate post.content, length: 250 %> </p>
    </div>
    <div class="mb-0 mt-2">
      <span class='votes text-primary'><%= post.score %></span>
      <span class='text-secondary'>points</span>
      <span class='comments text-primary'><%= post.comments.count %></span>
      <span class='text-secondary'>
        <%= link_to 'comments', post_path(post, anchor: 'comments'), class: 'text-secondary' %>
      </span> 
      <%# TODO: make this look nice. Comments should have a link to that post comments anchor %>
      <a href=''>
        <%= octicon "arrow-up", :height => 24%>
      </a>
      <a href=''>
        <%= octicon("arrow-down", :height => 24, :class => "text-primary")%>
      </a>
    </div>
<!--    <a href="#" class="stretched-link">Continue reading</a>-->
  </div>
  <div class="col-auto d-none d-lg-block">
    <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
      <title>Placeholder</title>
      <rect width="100%" height="100%" fill="#55595c"></rect>
      <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
    </svg>
  </div>
</div>